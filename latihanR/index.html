<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Krisna Gupta">
<meta name="dcterms.date" content="2024-05-20">

<title>Regresi dengan R dan RStudio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-introduction" id="toc-sec-introduction" class="nav-link active" data-scroll-target="#sec-introduction">Pendahuluan</a></li>
  <li><a href="#req" id="toc-req" class="nav-link" data-scroll-target="#req">Persiapan</a>
  <ul class="collapse">
  <li><a href="#install-r-dan-rstudio" id="toc-install-r-dan-rstudio" class="nav-link" data-scroll-target="#install-r-dan-rstudio">Install R dan RStudio</a></li>
  <li><a href="#install-r" id="toc-install-r" class="nav-link" data-scroll-target="#install-r">Install R</a></li>
  <li><a href="#install-rstudio" id="toc-install-rstudio" class="nav-link" data-scroll-target="#install-rstudio">Install RStudio</a></li>
  <li><a href="#install-package" id="toc-install-package" class="nav-link" data-scroll-target="#install-package">Install package</a></li>
  <li><a href="#download-data-latihan" id="toc-download-data-latihan" class="nav-link" data-scroll-target="#download-data-latihan">Download data latihan</a></li>
  <li><a href="#install-quarto" id="toc-install-quarto" class="nav-link" data-scroll-target="#install-quarto">Install Quarto</a></li>
  <li><a href="#bikin-akun-github" id="toc-bikin-akun-github" class="nav-link" data-scroll-target="#bikin-akun-github">Bikin akun github</a></li>
  <li><a href="#packages" id="toc-packages" class="nav-link" data-scroll-target="#packages">Packages</a></li>
  </ul></li>
  <li><a href="#theory" id="toc-theory" class="nav-link" data-scroll-target="#theory">Theory</a></li>
  <li><a href="#pakai-r" id="toc-pakai-r" class="nav-link" data-scroll-target="#pakai-r">Pakai R</a>
  <ul class="collapse">
  <li><a href="#set-working-directory" id="toc-set-working-directory" class="nav-link" data-scroll-target="#set-working-directory">Set working directory</a></li>
  <li><a href="#mengisi-r-script" id="toc-mengisi-r-script" class="nav-link" data-scroll-target="#mengisi-r-script">Mengisi R Script</a></li>
  <li><a href="#membaca-data" id="toc-membaca-data" class="nav-link" data-scroll-target="#membaca-data">Membaca data</a></li>
  <li><a href="#plotting" id="toc-plotting" class="nav-link" data-scroll-target="#plotting">Plotting</a></li>
  <li><a href="#run-the-regression" id="toc-run-the-regression" class="nav-link" data-scroll-target="#run-the-regression">Run the regression</a></li>
  <li><a href="#membuat-variabel-baru-residual" id="toc-membuat-variabel-baru-residual" class="nav-link" data-scroll-target="#membuat-variabel-baru-residual">Membuat variabel baru / residual</a></li>
  <li><a href="#final" id="toc-final" class="nav-link" data-scroll-target="#final">Final</a></li>
  </ul></li>
  <li><a href="#what-next" id="toc-what-next" class="nav-link" data-scroll-target="#what-next">What next</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="index.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Regresi dengan R dan RStudio</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Krisna Gupta </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Politeknik APP Jakarta
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 20, 2024</p>
    </div>
  </div>
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">abstrak</div>
    Dokumen ini digunakan untuk belajar R dan RStudio
  </div>
</div>


</header>


<section id="sec-introduction" class="level2">
<h2 class="anchored" data-anchor-id="sec-introduction">Pendahuluan</h2>
<p>Regresi itu hal mendasar. Banyak riset menggunakan regresi dan variasinya.</p>
<p>R dan RStudio is an amazing dan gratis! Apapun bisa digoogle, dan ada package untuk semua metode!</p>
<p>Anak-anak PIWAR diajarin R. Kali aja ada yang mau thesis pake R, dosennya harus udah paham. Bikin penelitian pake R mungkin meningkatkan kans mahasiswa untuk nulis bareng dosennya.</p>
</section>
<section id="req" class="level2">
<h2 class="anchored" data-anchor-id="req">Persiapan</h2>
<p>Di laman ini, anda akan diantarkan ke step-by-step menginstall r di komputer anda. Prosesnya mudah kok, apalagi kalau anda sudah pernah install aplikasi di komputer sebelumnya. Hal-hal yang perlu anda install antara lain adalah R, RStudio dan package-package yang diperlukan.</p>
<p>Minimal saya harap anda paham bagaimana cara berselancar di internet. Kami harapkan anda juga memahami struktur folder di komputer anda. Anda tau di mana lokasi file yang anda download, gimana cara bikin new folder, dan bagaimana cara navigasi my computer di Operating System masing-masing.</p>
<p>Jangan lupa restart komputer setelah install dan jangan lupa download <a href="https://drive.google.com/drive/u/1/folders/1exmFFbe7Ons-0nQ_arqtp0N9ZzG1Cozk">data-data latihannya</a> sebelum mulai. Tapi kalo anda punya data sendiri buat nyoba-nyoba pastinya lebih seru.</p>
<p>Intinya anda perlu:</p>
<ol type="1">
<li>Install R dan RStudio serta packages yg penting.</li>
<li>Install Quarto.</li>
<li>Bikin akun github.</li>
</ol>
<section id="install-r-dan-rstudio" class="level3">
<h3 class="anchored" data-anchor-id="install-r-dan-rstudio">Install R dan RStudio</h3>
<section id="cara-download-r-80-mb" class="level4">
<h4 class="anchored" data-anchor-id="cara-download-r-80-mb">CARA DOWNLOAD R (80 MB)</h4>
<ol type="1">
<li>Buka website cran.r-project.org/</li>
<li>Pilih “Download R for Windows”</li>
<li>Pilih “install R for the first time” di kolom base</li>
<li>Pilih “Download R-4.2.1 for Windows” di paling atas.</li>
<li>Kalo udah di download, install app nya di laptop okeng.</li>
</ol>
</section>
<section id="cara-download-rstudio-190.50-mb" class="level4">
<h4 class="anchored" data-anchor-id="cara-download-rstudio-190.50-mb">CARA DOWNLOAD RSTUDIO (190.50 MB)</h4>
<ol type="1">
<li>Buka website rstudio.com</li>
<li>Pilih “DOWNLOAD” di sebelah SUPORT, DOCS &amp; COMMUNITY (Pojok kanan atas)</li>
<li>Scroll ke bawah, pilih “Rstudio Dekstop Free Download”</li>
<li>Pilih “DOWNLOAD RSTUDIO FOR WINDOWS” (yang ada icon windows nya)</li>
<li>Kalo udah di download, install app nya di laptop yaa.</li>
</ol>
</section>
</section>
<section id="install-r" class="level3">
<h3 class="anchored" data-anchor-id="install-r">Install R</h3>
<p>R adalah program yang digunakan untuk menghitung. Dia sendiri bentuknya agak gak jelas. Jika anda cuma punya R, anda harus ngerun R pake console gitu. Sangat tidak intuitif. Nulis scriptnya juga bisa, tapi pake text editor yang juga kurang intuitif. Tapi bagaimanapun juga, programnya harus ada di komputer anda.</p>
<section id="cari-installernya-pakai-google" class="level4">
<h4 class="anchored" data-anchor-id="cari-installernya-pakai-google">Cari installernya pakai google</h4>
<p>Cara paling gampang install r adalah dengan menggunakan google search, lalu ketik <code>install r for windows</code> jika laptop anda windows. Anda akan diantarkan ke installer r untuk versi windows 64 bit. Komputer jaman sekarang rata-rata 64 bit. Jika komputer anda adalah 32-bit, maka harus install versi r yang jadul. Google aja <code>install r for windows 32-bit</code>.</p>
<p>Sebagian besar komputer jaman sekarang pasti pake 64-bit. Tapi jika anda gak yakin, cara ngecek bit anda bisa dilihat di <a href="https://support.microsoft.com/en-us/windows/32-bit-and-64-bit-windows-frequently-asked-questions-c6ca9541-8dce-4d48-0415-94a3faa2e13d">sini</a>.</p>
</section>
<section id="datang-langsung-ke-website-r-nya" class="level4">
<h4 class="anchored" data-anchor-id="datang-langsung-ke-website-r-nya">Datang langsung ke website r-nya</h4>
<p>Tanpa google juga bisa kok. langsung aja datang ke websitenya. Ada beberapa mirror download yang bisa dipilih, tapi untuk Indonesia, lebih baik pakai servernya Universitas Syiah Kuala yang bisa diakses di <a href="https://cran.usk.ac.id/">sini</a>. Anda cukup download <code>base</code>. Saat tulisan ini dibuat, versi R yang terbaru adalah R-4.2.1 for windows. Ini adalah versi r untuk windows 64-bit.</p>
<p>Cara manapun yang anda pilih, anda akan diantarkan ke lokasi yang kurang lebih sama. Anda akan download installernya yang besarnya sekitar 78 Megabyte. Tunggu aja sampai selesai. Nanti nama file-nya <code>R-4.2.1-win.exe</code>. Pastikan anda familiar dengan lokasi file yang anda download ini di folder anda.</p>
<p>Kalau sudah ada installernya, anda tinggal dobel klik file-nya lalu next-next sampe selesai. Selamat, anda sudah berhasil menginstall r</p>
</section>
</section>
<section id="install-rstudio" class="level3">
<h3 class="anchored" data-anchor-id="install-rstudio">Install RStudio</h3>
<p>RStudio ini bukan program yang anda pakai untuk hitung. RStudio disebut juga dengan IDE (Integrated Development Environment). Dia ini lebih ke software yang anda gunakan untuk mengakses R dengan lebih intuitif. Di RStudio anda akan bisa memanage package lebih mudah dan menulis script r dengan lebih intuitif. Intinya, RStudio adalah software yang anda pakai untuk berinteraksi dengan R. Ketika anda regres, anda menulis kodenya di RStudio, akan tetapi yang nge-run regresi anda adalah R.</p>
<section id="cari-installernya-pakai-google-1" class="level4">
<h4 class="anchored" data-anchor-id="cari-installernya-pakai-google-1">Cari Installernya pakai google</h4>
<p>Yup, anda juga bisa download installernya lewat google dulu. langusng aja google <code>download RStudio</code>, maka pilihan pertamanya adalah si RStudio ini. Pilih pilihan yang tulisannya “Download RStudio IDE” (pilihan paling atas) untuk ke laman RStudio, lalu pilih RStudio desktop yang free. RStudio akan memilihkan installer yang pas untuk anda. Langsung aja tekan tombol biru besar yang tulisannya “Download RStudio for Windows”.</p>
<p><img src="pic/RStudio.png" title="Pencet yg biru itu" class="img-fluid"></p>
<p>RStudio filenya lebih gede dari R, sekitar 182 MB. Installernya namanya <code>RStudio-2022.07.2-576.exe</code>. angka-angka itu nama versinya. Jika anda download lagi di masa depan, mungkin nama versinya berubah karena ada update.</p>
<p>Setelah anda sudah selesai download, double klik installernya lalu next-next aja sampe beres. Jangan lupa create shortcut jika anda lebih suka pakai shortcut di desktop untuk mengakses program anda.</p>
<p><img src="pic/start.png" title="shortcutnya yang dilingkarin merah itu" class="img-fluid"></p>
</section>
<section id="interaksi-dengan-rstudio" class="level4">
<h4 class="anchored" data-anchor-id="interaksi-dengan-rstudio">Interaksi dengan RStudio</h4>
<p>RStudio punya tampilan seperti di bawah ini:</p>
<p><img src="pic/tampilan.png" title="4 kuadran RStudio" class="img-fluid"></p>
<p>Jangan kaget jika tampilan RStudio anda tidak persis seperti ini. Tampilan saya keliatan seperti ini karena saya sedang mengerjakan sesuatu di RStudio saya. Jika anda baru buka pertama kali, pasti masih kosong. Yang penting adalah anda bisa lihat ada 4 kuadran di RStudio.</p>
<ol type="1">
<li><p>Kuadran 1 (kiri atas) akan saya sebut script. Ini adalah tempat anda menulis script untuk kode anda. Coba arahkan mouse anda ke kiri atas, ada tulisan <code>file</code>, lalu pilih <code>new file</code> lalu pilih <code>R Script</code>. Anda juga bisa pakai shortcut <code>ctrl+shift+n</code>. Hal ini akan memunculkan file namannya <code>Untitled1</code> yang mana adalah R Script anda. Nanti kita bahas di kelas bagaimana mengisi R Script anda. Gampang kok. Tinggal kopas aja.</p></li>
<li><p>Kuadran 2 (kanan atas) adalah environment window. Di kuadran ini anda bisa lihat file-file yang sudah anda buat dengan R, seperti data dan grafik. Nanti kuadran 2 ini akan penuh sendiri seiring anda berinteraksi dengan RStudio.</p></li>
<li><p>Kuadran 3 (Kanan bawah) adalah File window. Di sini anda bisa lihat struktur folder anda maupun membuka file-file gambar. Nanti kita akan bahas di kelas.</p></li>
<li><p>Kuadran 4 (kiri bawah) disebut juga dengan console. Di sinilah command-command R anda akan diketik. Ada beberapa hal yang anda bisa coba.</p></li>
</ol>
<ul>
<li>coba anda ketik <code>version</code> lalu enter. Apa yang anda lihat?</li>
<li>Kemudian, ketik <code>getwd()</code> lalu enter. Apakah anda mengerti apa yang dihasilkan oleh command ini? Apakah anda tau lokasi yang dimaksud?</li>
<li>Anda juga bisa jadikan console seperti kalkulator. coba ketik <code>1+1</code> lalu enter.</li>
<li>R juga bisa store values. misalnya anda coba ketik <code>a&lt;-1+1</code> lalu enter. kemudian ketik <code>a</code> lalu enter.</li>
<li>Ketik <code>b&lt;-3*3</code> lalu enter. lalu ketik <code>a+b</code>, enter.</li>
</ul>
<p>Ada banyak yang bisa anda coba, ada banyak sekali command yang anda bisa masukan di console. Namun seperti anda lihat, console lebih digunakan jika anda perlu memasukkan kode yang pendek-pendek. Untuk kode yang panjang, kita akan lebih sering menggunakan R Script.</p>
<p>Nah, contoh kode yang ada di kelas itu semua dapat di-run di RScript ini. kopas aja kode yang ada di kelas ke R Script anda, lalu tekan ctrl+a untuk ngeblok seisi r script lalu tekan <code>run</code> (ada di kanan atas dari area r script). Atau pake <code>ctrl+enter</code> untuk shortcutnya.</p>
<p>Nanti kita bahas di kelas bagaimana menulis kode di R Script. Namun untuk sekarang, mari kita persiapkan komputer anda untuk penggunaan di kelas. Anda memerlukan beberapa package yang harus diinstall.</p>
</section>
</section>
<section id="install-package" class="level3">
<h3 class="anchored" data-anchor-id="install-package">Install package</h3>
<p>R sendiri adalah sebuah software komputasi yang elegan namun fungsinya cukup terbatas. Untuk menggunakan R dengan lebih mudah, banyak peneliti membuat packages atau tambahan software agar R bisa digunakan dengan lebih intuitif. Beberapa packages ini perlu diinstall 1x saja, tapi untuk setiap penggunaannya perlu dipanggil dengan command <code>library</code>.</p>
<p>Sebelum kita mulai di kelas, ada beberapa packages yang perlu anda install. Cukup kopas kode berikut ini ke console anda:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">"tidyverse"</span>,<span class="st">"WDI"</span>,<span class="st">"readxl"</span>,<span class="st">"writexl"</span>,<span class="st">"modelsummary"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Jangan lupa tekan enter dan pastikan ada sambungan internet.</p>
<p>Ada 4 packages yang diinstall di atas: <code>tidyverse</code> adalah package yang digunakan untuk data cleaning. <code>WDI</code> adalah package yang digunakan untuk menarik database-nya World Bank yang namanya World Development Indicators. <code>readxl</code> adalah package yang kita perlukan untuk membaca data excel ke r. <code>kableExtra</code> adalah package untuk membuat tabel.</p>
<p>Untuk sekarang, cukup kita install dulu. Nanti pakainya pas di kelas.</p>
</section>
<section id="download-data-latihan" class="level3">
<h3 class="anchored" data-anchor-id="download-data-latihan">Download data latihan</h3>
<p>Jangan lupa untuk download file-file excel yang akan kita pakai untuk latihan. File-file tersebut dapat diakses di <a href="https://drive.google.com/drive/u/1/folders/1exmFFbe7Ons-0nQ_arqtp0N9ZzG1Cozk">sini</a>.</p>
</section>
<section id="install-quarto" class="level3">
<h3 class="anchored" data-anchor-id="install-quarto">Install Quarto</h3>
<p>Quarto adalah versi <em>upgrade</em> dari rscript. Dengan file quarto (ekstensi .qmd), anda bisa menggabungkan kode R anda dengan tulisan, dan dirender menjadi html, pdf dan word sekaligus, setelah itu anda dapat edit wordnya. Tapi kekuatan quarto yang sebenarnya (menurut saya) adalah render html-nya.</p>
<p>Quarto dapat didownload di <a href="https://quarto.org/docs/get-started/">sini</a>. Atau google aja “download quarto” Quarto dapat digunakan dengan VSCode, Jupyter, dan text editor lainnya. Tapi paling gampang sih kita pakai RStudio.</p>
</section>
<section id="bikin-akun-github" class="level3">
<h3 class="anchored" data-anchor-id="bikin-akun-github">Bikin akun github</h3>
<p>Github aslinya adalah sebuah website untuk hosting code projects (disebut juga dengan repository. Dia berfungsi sebagai version control dan melakukan kolaborasi terutama untuk project open source. Singkatnya, semua programer pasti pernah pake github. Namun github bisa menawarkan hosting mini untuk website anda.</p>
<p>Buka github dan buat akun baru di <a href="https://github.com/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F&amp;source=header-home">sini</a>. Pilih username yang cukup profesional dan mudah diingat. Username ini akan jadi bagian dari url website anda. Kode verifikasi akan dikirim ke email anda. kalau disuruh pilih paket, pilih yang free.</p>
</section>
<section id="packages" class="level3">
<h3 class="anchored" data-anchor-id="packages">Packages</h3>
<p>Hari ini kita akan menggunakan beberapa packages</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">library</span>(readxl)</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="fu">library</span>(writexl)</span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="fu">library</span>(modelsummary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="theory" class="level2">
<h2 class="anchored" data-anchor-id="theory">Theory</h2>
<p>R merupakan bahasa pemograman yang sebenernya cukup general tapi seringkali digunakan untuk analisis statistika. Ada banyak juga fungsi R yang ditulis orang lain yang harus kita download dan panggil dulu supaya berfungsi, dan piranti lunak tulisan orang lain ini kita sebut package. Hari ini kita hanya akan coba pakai regresi linear / linear model, tapi jika analisis anda menggunakan metode tertentu, biasanya ada package yang mungkin sudah mengcovernya. Misalnya, saya sendiri sering pakai package ARDL, VAR, fixest, dan PPML.</p>
<p>R juga sudah cukup mature sehingga tidak sulit menggoogle command yang anda perlukan. Anda bahkan bisa minta tolong AI (misalnya copilot) untuk nulisin kode yang anda inginkan, tapi jgn lupa dicek dan jangan langsung percaya soalnya AI kadang suka halu.</p>
<p>Regresi multivariat punya bentuk umum seperti berikut:</p>
<p><span id="eq-1"><span class="math display">\[
y = \beta_0 + \sum_{i=1}^n \beta_i x_{i} + \varepsilon
\tag{1}\]</span></span></p>
<p>di mana <span class="math inline">\(y\)</span> adalah vektor yang berisi elemen variabel endogen dan <span class="math inline">\(x_i\)</span> adalah vektor-vektor yang berisi elemen variabel eksogen. <span class="math inline">\(\varepsilon\)</span> adalah residual yang kita asumsikan iid. Tentu saja pada kenyataannya semua asumsi ini bisa salah, tapi saya yakin bapak ibu sudah ahli soal OLS dan turunannya. Kita akan fokus nge-<em>run</em> persamaan ini pakai R.</p>
</section>
<section id="pakai-r" class="level2">
<h2 class="anchored" data-anchor-id="pakai-r">Pakai R</h2>
<p>Meskipun anda diminta melakukan banyak install, tapi semua program tersebut akan kita gunakan melalui RStudio. RStudio adalah <a href="https://www.geeksforgeeks.org/what-is-ide/">IDE (Integrated Development Environment)</a>, atau sebuah piranti lunak yang digunakan untuk menjalankan beberapa program dengan lebih intuitif. Ibaratnya, R itu mesin mobil, dan RStudio itu setir dan pedal. Yang jalan mesinnya tapi kita kontrol melalui dashboard mobil.</p>
<p>Pada prinsipnya, menjalankan regresi di R terdiri dari beberapa step:</p>
<ol type="1">
<li><em>Set working directory</em>.</li>
<li>Membaca data dari suatu bentuk ke dalam lingkungan R.</li>
<li>Membuat visualisasi</li>
<li>Melakukan regresi</li>
</ol>
<section id="set-working-directory" class="level3">
<h3 class="anchored" data-anchor-id="set-working-directory">Set working directory</h3>
<p>Saya mengasumsikan anda familiar dengan struktur folder di komputer anda. Setiap project saya yang menggunakan R biasanya saya taruh di 1 folder semua. Kita mulai dengan membuat 1 folder kerja (working directory). Kemudian folder kerja tersebut kita isi dengan data yang mau dikerjakan.</p>
<p>Folder ini boleh ditaruh di mana aja dan dinamakan apa saja, yang penting anda inget letaknya di mana. Saya sendiri biasanya naruh ga jauh-jauh dari <code>C:/</code> biar cepet navigasinya. Biasanya saya menghindari nama folder yg panjang-panjang dan saya juga menghindari pake spasi.</p>
<p>Buat aja folder baru, misalnya dinamain “latihan” gitu. Kemudian isi folder tersebut dengan data yang mau anda kerjakan. Dalam hal ini, saya akan mengisi folder tersebut dengan “latihan2.xlsx”, “latihan3.xlsx” dan “latihan4.xlsx” dari <a href="https://drive.google.com/drive/u/0/folders/1exmFFbe7Ons-0nQ_arqtp0N9ZzG1Cozk">google drive saya</a>. Tentu saja jika anda punya data sendiri silakan dipakai.</p>
<p>Kemudian langkah pertama kita adalah memberi tahu R bahwa folder tersebut adalah working directory kita. caranya adalah, misalnya working directory anda ada di “C:/latihan”, ketik command berikut ini di console:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"C:/latihan"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Jangan lupa dienter.</p>
<p>Tentunya jika working directory anda bukan di situ ya diganti aja sesuai letak folder anda. I assume you’re familiar with your own machine at this point.</p>
<p>btw anda bisa cek working directory saat ini dengan command <code>getwd()</code>.</p>
<p>Jika sudah selesai ngerun <code>setwd()</code>, maka langkah selanjutnya adalah mengklik tanda roda gigi (more) di kuadran kanan bawah (files) lalu pilih “go to working directory”. Di sana anda akan melihat data-data yang tadi anda taruh di working directory. Jika ini sudah dilakukan, maka kita selesai memberi tau R bahwa inilah folder kerja kita. Semua output kode kita akan muncul di folder ini.</p>
</section>
<section id="mengisi-r-script" class="level3">
<h3 class="anchored" data-anchor-id="mengisi-r-script">Mengisi R Script</h3>
<p>Jika sudah berhasil maka langkah berikutnya adalah membuat R script. R script ini seperti do file kalau di Stata. Anda bisa membuatnya dengan menekan <code>ctrl+shift+N</code> atau klik file <span class="math inline">\(\rightarrow\)</span> new file <span class="math inline">\(\rightarrow\)</span> R script. R scriptnya akan muncul di kuadran kiri atas. Di sinilah semua kodingan kita akan kita taruh.</p>
<p>R Script adalah file yang isinya teks yang akan muncul di working directory anda setelah di-save. Rscript sangat berguna untuk mengingatkan kita kodingan apa saja yang kita lakukan di artikel / project tersebut. Biasanya proses publikasi jurnal bisa lama banget dan back and forth berkali-kali. Kita kadang lupa dan pas disuruh revisi / konfirmasi kita harus inget lagi hal-hal apa aja yang kita run di artikel tersebut. Kita bisa baca r scriptnya.</p>
<p>Lebih penting lagi, r script bisa dikerjakan oleh lebih dari 1 orang. Rscript anda bisa dibaca orang lain dan orang lain itu harus langsung tau anda ngapain aja sehingga dia bisa mengerjakan bagian dia. Rscript juga sangat penting supaya kerjaan anda bisa direplikasi mahasiswa anda. Beberapa project saya ditaruh di github saya kodingannya sehingga transparan dan bisa direplikasi.</p>
<p>Anyway, Hal pertama yang ditulis di R script adalah <code>setwd()</code> lalu load library yang kita perlukan. Untuk latihan kali ini, silakan load package “readxl”, “tidyverse” dan “modelsummary”. Rscript anda akan jadi seperti ini:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">'C:/github/latihanR'</span>) <span class="co"># AWAS SETWD-NYA PERBAIKI DULU</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'readxl'</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'tidyverse'</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'modelsummary'</span>) <span class="co"># buat tabel regresi</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Jika mau eksekusi rscript anda, pencet <code>ctr+all</code> lalu pencet <code>ctrl+enter</code> atau pencet tombol “run” di kanan atas. Rscript hanya akan ngerun kode yang anda blok dengan mouse atau shift+panah, jadi jgn lupa diblok dulu sebelum run. Tentu saja jika ada line tertentu yg anda run tp ga mau rune yang lain, cukup blok line tersebut.</p>
<p>Oh iya 1 lagi, semua line/baris yang diawali dengan tanda pagar / tanda hash tidak akan dibaca oleh R meskipun anda run. tanda pagar/hashtag ini biasa kita pakai untuk kasih keterangan soal kode kita sehingga kalau kita mau lihat lagi bertahunb-tahun kemudian kita ga lupa.</p>
</section>
<section id="membaca-data" class="level3">
<h3 class="anchored" data-anchor-id="membaca-data">Membaca data</h3>
<p>Langkah berikutnya adalah membaca data. inilah kenapa kita harus load “readxl” karena readxl bisa membaca file excel dengan cepat dan efisien. Mari kita coba load data “latihan2.xlsx” dulu. Anda tinggal masukin kode berikut ini:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>dat<span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">"latihan2.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Ganti nama datanya jika data anda punya nama berbeda. Jika data anda ada di sheet tertentu, gunakan ini:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>dat<span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">"latihan2.xlsx"</span>,<span class="at">sheet=</span><span class="st">"nama_sheet"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>command di atas menaruh latihan2.xlsx ke sebuah obyek bernama “dat”. Nama obyeknya nggak harus “dat”. Kalau anda suka nama lain (misalnya “weleh”), maka tinggal ngetik</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>weleh<span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">"latihan2.xlsx"</span>,<span class="at">sheet=</span><span class="st">"nama_sheet"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Anda bisa juga ketik command ini di consol lalu di-enter, tapi tentu saja enakan taruh di Rscript, blok, lalu run. Jika sudah di-run, maka obyek ini akan muncul di environment anda di kanan atas. Jika anda klik, anda akan bisa melihat struktur datanya. Anda juga bisa lihat dengan mengetik <code>View(dat)</code> di console lalu enter. V-nya gede yah.</p>
<p>Yang terpenting untuk membaca data excel adalah nama variabel harus ada di paling atas dan cuma terdiri dari 1 baris aja. Jadi ga boleh ada kolom yang merge atau semacamnya.</p>
<p>ngomong-ngomong, data latihan2.xlsx saya itu isinya begini:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>dat<span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">"latihan2.xlsx"</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>dat</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 100 × 3
       X     S     Y
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1     2    61  48.5
 2     0    94  53  
 3    14    29  53.5
 4    19    94  90  
 5    10    81  71.5
 6    15    95  82.5
 7    11    47  55.5
 8    14    82  77  
 9     0    81  51.5
10    17    28  56  
# ℹ 90 more rows</code></pre>
</div>
</div>
<p>Di obyek “dat” ada 100 data poin dengan 3 variabel, X, S dan Y. anda bisa memanggil masing-masing variabel dengan menggunakan obyek, lalu tanda dolar, lalu nama variabel.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>X</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  [1]  2  0 14 19 10 15 11 14  0 17  9  5  8 12 17 12 12 11  5 13 19  2 10 10  2
 [26] 18  5 14  6  2  4 18 14  4  0 11 15  7 10  7 16 11  0  0 16  6 19  8 19  9
 [51] 13 14 10  3 19 11 10 19  9 19 15 14  2 17 17 20  3 13 13 12  9 10  7  1 19
 [76]  4  3  9 17  5  8 14  2 11  2  0  9 14 14  6  5  7 10  0  5 15 13 19  4  1</code></pre>
</div>
</div>
<p>anda bisa menampilkan summary statistics dari data ini dengan command <code>summary()</code>.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>       X               S               Y        
 Min.   : 0.00   Min.   :20.00   Min.   :22.50  
 1st Qu.: 5.00   1st Qu.:35.00   1st Qu.:44.50  
 Median :10.00   Median :61.00   Median :57.00  
 Mean   : 9.84   Mean   :58.18   Mean   :58.52  
 3rd Qu.:14.00   3rd Qu.:81.00   3rd Qu.:71.75  
 Max.   :20.00   Max.   :95.00   Max.   :99.50  </code></pre>
</div>
</div>
</section>
<section id="plotting" class="level3">
<h3 class="anchored" data-anchor-id="plotting">Plotting</h3>
<p>Plotting di R bisa ada 2 cara. Anda bisa ngeplot datanya dengan cepat pakai scatterplot dengan menggunakan command <code>plot()</code> seperti ini</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(dat<span class="sc">$</span>X,dat<span class="sc">$</span>Y,<span class="at">xlab=</span><span class="st">"jam belajar"</span>,<span class="at">ylab=</span><span class="st">"nilai UAS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>hasil plot anda akan muncul di kanan bawah di tab “plots” lalu bisa disave dengan cara pencet export lalu save as image. Anda juga bisa pencet “copy to clipboard” lalu di-paste ke word atau ppt jika mau ditaruh di word or ppt.</p>
<p>Cara ke-2 adalah dengan menggunakan ggplot. GGplot agak ribet commandnya tapi bisa langsung anda save di disc. Begini acaranya</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>dat,<span class="fu">aes</span>(<span class="at">x=</span>X,<span class="at">y=</span>Y))<span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"jam belajar"</span>,<span class="at">y=</span><span class="st">"nilai UTS"</span>)<span class="sc">+</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>anda bisa langsung save ggplot di atas dengan ggsave:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>dat,<span class="fu">aes</span>(<span class="at">x=</span>X,<span class="at">y=</span>Y))<span class="sc">+</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"jam belajar"</span>,<span class="at">y=</span><span class="st">"nilai UTS"</span>)<span class="sc">+</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"plot_keren.svg"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>ga harus svg sih. png atau jpg juga bisa. Tapi nanti filenya muncul di working directory anda. Ggplot ini seru karena kostumisasinya tak terbatas. kapan-kapan kita bahas lebih lanjut soal ggplot.</p>
</section>
<section id="run-the-regression" class="level3">
<h3 class="anchored" data-anchor-id="run-the-regression">Run the regression</h3>
<p>Ngeplot biasanya kita lakukan untuk menunjukkan analisis awal, menunjukkan bahwa ada visible pattern di sana dan menjustifikasi analisis lanjutan dengan regresi. Kalau sudah, saatnya kita melakukan regresi linear. Regresi linear dilakukan menggunakan command <code>lm()</code></p>
<p>Jika kita menggunakan data “latihan2.xlsx”, maka kita jalankan regresi dengan spesifikasi berikut ini:</p>
<p><span id="eq-2"><span class="math display">\[
Y=\beta_0+\beta_1X+\beta_2S+\varepsilon
\tag{2}\]</span></span></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>reg<span class="ot">&lt;-</span><span class="fu">lm</span>(<span class="at">data=</span>dat,Y<span class="sc">~</span>X<span class="sc">+</span>S)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(reg) <span class="co"># gunakan summary untuk kasi liat hasilnya</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Y ~ X + S, data = dat)

Residuals:
    Min      1Q  Median      3Q     Max 
-5.6677 -2.5026  0.0932  2.0725  5.3520 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 11.13743    0.90463   12.31   &lt;2e-16 ***
X            1.92363    0.05085   37.83   &lt;2e-16 ***
S            0.48907    0.01246   39.27   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 2.975 on 97 degrees of freedom
Multiple R-squared:  0.9703,    Adjusted R-squared:  0.9697 
F-statistic:  1586 on 2 and 97 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>Maka hasilnya akan keluar. Tentu saja semua parameter sangat penting, tapi biasanya kita fokus ke coefficients, p-value dan <span class="math inline">\(R^2\)</span>.</p>
<p>Anda bisa menyimpan hasil regresinya dengan format tertentu dengan menggunakan package “modelsummary”.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>reg<span class="ot">&lt;-</span><span class="fu">lm</span>(<span class="at">data=</span>dat,Y<span class="sc">~</span>X<span class="sc">+</span>S)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(reg,<span class="at">stars=</span><span class="cn">TRUE</span>, <span class="at">output=</span><span class="st">"regresi.html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell">
<div class="cell-output-display">
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_7ol4glk5w22kxlnq0bae</title>
    <style>
.table td.tinytable_css_a39a1eesqf12qwc2qlcg, .table th.tinytable_css_a39a1eesqf12qwc2qlcg {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_dgmggy9ufyv2kg1324ww, .table th.tinytable_css_dgmggy9ufyv2kg1324ww {    text-align: left; }
.table td.tinytable_css_ey8uw9tuagc7dx3qauw9, .table th.tinytable_css_ey8uw9tuagc7dx3qauw9 {    text-align: center; }
.table td.tinytable_css_jplhsyfavme6zp76y6nj, .table th.tinytable_css_jplhsyfavme6zp76y6nj {    border-bottom: solid 0.05em black; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_7ol4glk5w22kxlnq0bae" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>11.137***</td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.905)  </td>
                </tr>
                <tr>
                  <td>X          </td>
                  <td>1.924*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.051)  </td>
                </tr>
                <tr>
                  <td>S          </td>
                  <td>0.489*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.012)  </td>
                </tr>
                <tr>
                  <td>Num.Obs.   </td>
                  <td>100      </td>
                </tr>
                <tr>
                  <td>R2         </td>
                  <td>0.970    </td>
                </tr>
                <tr>
                  <td>R2 Adj.    </td>
                  <td>0.970    </td>
                </tr>
                <tr>
                  <td>AIC        </td>
                  <td>506.8    </td>
                </tr>
                <tr>
                  <td>BIC        </td>
                  <td>517.2    </td>
                </tr>
                <tr>
                  <td>Log.Lik.   </td>
                  <td>-249.389 </td>
                </tr>
                <tr>
                  <td>F          </td>
                  <td>1586.117 </td>
                </tr>
                <tr>
                  <td>RMSE       </td>
                  <td>2.93     </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(i, j, css_id) {
        var table = document.getElementById("tinytable_7ol4glk5w22kxlnq0bae");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_7ol4glk5w22kxlnq0bae');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_sb7zh6h8u6lqfqh7nn78(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_7ol4glk5w22kxlnq0bae");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(0, 0, 'tinytable_css_a39a1eesqf12qwc2qlcg') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(0, 1, 'tinytable_css_a39a1eesqf12qwc2qlcg') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(0, 0, 'tinytable_css_dgmggy9ufyv2kg1324ww') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(1, 0, 'tinytable_css_dgmggy9ufyv2kg1324ww') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(2, 0, 'tinytable_css_dgmggy9ufyv2kg1324ww') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(3, 0, 'tinytable_css_dgmggy9ufyv2kg1324ww') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(4, 0, 'tinytable_css_dgmggy9ufyv2kg1324ww') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(5, 0, 'tinytable_css_dgmggy9ufyv2kg1324ww') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(6, 0, 'tinytable_css_dgmggy9ufyv2kg1324ww') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(7, 0, 'tinytable_css_dgmggy9ufyv2kg1324ww') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(8, 0, 'tinytable_css_dgmggy9ufyv2kg1324ww') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(9, 0, 'tinytable_css_dgmggy9ufyv2kg1324ww') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(10, 0, 'tinytable_css_dgmggy9ufyv2kg1324ww') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(11, 0, 'tinytable_css_dgmggy9ufyv2kg1324ww') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(12, 0, 'tinytable_css_dgmggy9ufyv2kg1324ww') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(13, 0, 'tinytable_css_dgmggy9ufyv2kg1324ww') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(14, 0, 'tinytable_css_dgmggy9ufyv2kg1324ww') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(0, 1, 'tinytable_css_ey8uw9tuagc7dx3qauw9') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(1, 1, 'tinytable_css_ey8uw9tuagc7dx3qauw9') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(2, 1, 'tinytable_css_ey8uw9tuagc7dx3qauw9') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(3, 1, 'tinytable_css_ey8uw9tuagc7dx3qauw9') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(4, 1, 'tinytable_css_ey8uw9tuagc7dx3qauw9') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(5, 1, 'tinytable_css_ey8uw9tuagc7dx3qauw9') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(6, 1, 'tinytable_css_ey8uw9tuagc7dx3qauw9') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(7, 1, 'tinytable_css_ey8uw9tuagc7dx3qauw9') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(8, 1, 'tinytable_css_ey8uw9tuagc7dx3qauw9') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(9, 1, 'tinytable_css_ey8uw9tuagc7dx3qauw9') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(10, 1, 'tinytable_css_ey8uw9tuagc7dx3qauw9') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(11, 1, 'tinytable_css_ey8uw9tuagc7dx3qauw9') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(12, 1, 'tinytable_css_ey8uw9tuagc7dx3qauw9') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(13, 1, 'tinytable_css_ey8uw9tuagc7dx3qauw9') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(14, 1, 'tinytable_css_ey8uw9tuagc7dx3qauw9') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(6, 0, 'tinytable_css_jplhsyfavme6zp76y6nj') })
window.addEventListener('load', function () { styleCell_tinytable_sb7zh6h8u6lqfqh7nn78(6, 1, 'tinytable_css_jplhsyfavme6zp76y6nj') })
    </script>

  


</div>
</div>
<p>Anda bisa ganti ekstensinya dengan doc atau xls, tapi personally html paling cantik bentuknya. Tabel htmlnya bisa anda kopas ke excel. Lebih lengkap tentang “modelsummary” bisa dibaca di <a href="https://modelsummary.com/articles/modelsummary.html#output-print-and-save">sini</a>.</p>
</section>
<section id="membuat-variabel-baru-residual" class="level3">
<h3 class="anchored" data-anchor-id="membuat-variabel-baru-residual">Membuat variabel baru / residual</h3>
<p>anda bisa membuat variabel baru di dataset anda dengan cara, misalnya,</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>waw<span class="ot">&lt;-</span>dat<span class="sc">$</span>X<span class="sc">+</span>dat<span class="sc">$</span>S</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>waw-nya bisa diganti nama apa saja.</p>
<p>Tapi untuk kali ini kita akan membuat residual / error term dari hasil regresi kita. Seperti anda ketahui bahwa eror term itu simply</p>
<p><span id="eq-3"><span class="math display">\[
\varepsilon=Y-\beta_0-\beta_1X-\beta_2S
\tag{3}\]</span></span></p>
<p>Biasanya kita generate error term untuk ngecek apakah dia beneran zero mean dan iid (biasanya nggak wkwkwk). Cara generate error term adalah</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>u<span class="ot">&lt;-</span><span class="fu">resid</span>(reg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Lalu anda bisa cek summary dari residualnya dengan</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(dat<span class="sc">$</span>u)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>dan ya benar bahwa dia mean zero. tentu saja bisa juga kita plot terhadap X dan Y:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(dat<span class="sc">$</span>u,dat<span class="sc">$</span>Y,<span class="at">xlab=</span><span class="st">"Nilai uts"</span>,<span class="at">ylab=</span><span class="st">"erorr term"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(dat<span class="sc">$</span>u,dat<span class="sc">$</span>X,<span class="at">xlab=</span><span class="st">"Nilai uts"</span>,<span class="at">ylab=</span><span class="st">"jam belajar"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>anda bisa save hasilnya dan lihat apakah error term-nya random.</p>
</section>
<section id="final" class="level3">
<h3 class="anchored" data-anchor-id="final">Final</h3>
<p>all in all, R script anda akan berbentuk seperti ini</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">'C:/github/latihanR'</span>) <span class="co"># AWAS SETWD-NYA PERBAIKI DULU</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'readxl'</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'tidyverse'</span>)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'modelsummary'</span>)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Baca data</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>dat<span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">'latihan2.xlsx'</span>)</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot X dan Y</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>dat,<span class="fu">aes</span>(<span class="at">x=</span>X,<span class="at">y=</span>Y))<span class="sc">+</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"jam belajar"</span>,<span class="at">y=</span><span class="st">"nilai UTS"</span>)<span class="sc">+</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"plot_keren.svg"</span>)</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a><span class="co"># regresi</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>reg<span class="ot">&lt;-</span><span class="fu">lm</span>(Y<span class="sc">~</span>X<span class="sc">+</span>S,<span class="at">data=</span>dat)</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(reg,<span class="at">output=</span><span class="st">"regresi.html"</span>)</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Membuat error</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>dat,<span class="fu">aes</span>(<span class="at">x=</span>Y,<span class="at">y=</span>u))<span class="sc">+</span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"nilai uts"</span>,<span class="at">y=</span><span class="st">"error term"</span>)<span class="sc">+</span></span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"plot_eror.svg"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Jika kode anda benar, maka kita bisa run semuanya dalam 1 tarikan nafas. Kita blok semua dengan ctrl+A lalu run, maka semua akan berjalan dari awal sampai akhir.</p>
</section>
</section>
<section id="what-next" class="level2">
<h2 class="anchored" data-anchor-id="what-next">What next</h2>
<p>Silakan dicoba dengan data anda sendiri, atau coba latihan3 dan latihan4. Kita akan diskusi hasilnya dan bagaimana menaruhnya di paper anda. Jika anda pakai metode yang saya gak familiar, bisa jadi sudah ada packagenya di R. We can discuss dan coba google package apa yang tersedia buat metode anda di R.</p>
<p>Jika ada waktu kita juga bisa belajar bagaimana menggunakan data <a href="https://www.krisna.or.id/metopel/meeting8/#/title-slide">World Development Indicators (WDI)</a> punya world bank langsung dari R.</p>
<p>Jika ada waktu juga kita bisa belajar bagaimana menggunakan qmd dan hosting website anda sendiri di github seperti <a href="https://imedkrisna.github.io/">punya saya ini</a></p>
<p>Lanjutan belajar R bisa anda temukan di <a href="https://www.krisna.or.id/courses/metopel/slides/">mata kuliah metodologi penelitian</a>. Saya juga punya workshop utk anak-anak UI ngerun gravity model di <a href="https://www.krisna.or.id/intecon/gravity/">sini</a>. Github repo untuk latihan hari ini bisa anda temukan di <a href="https://github.com/imedkrisna/latihanR">github saya</a>. Beberapa paper saya yg pake R adalah <span class="citation" data-cites="amanta">Amanta and Gupta (<a href="#ref-amanta" role="doc-biblioref">2022</a>)</span> yang reponya bisa anda temukan di <a href="https://github.com/imedkrisna/noodle">sini</a> dan <span class="citation" data-cites="hasran">Hasran and Gupta (<a href="#ref-hasran" role="doc-biblioref">2023</a>)</span> yang reponya di <a href="https://github.com/imedkrisna/food">sini.</a> Tentu saja anda juga bisa ke ruangan saya kapan saja untuk berdiskusi.</p>
<p>Oke sekian dulu semoga bermanfaat.</p>
</section>
<section id="references" class="level2 unnumbered">


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-amanta" class="csl-entry" role="listitem">
Amanta, Felippa, and Krisna Gupta. 2022. <span>“Trade for Economic Recovery: Import Policies to Support Indonesia’s f&amp;b Sector.”</span> Journal Article. <em>CIPS Policy Paper</em> 51. <a href="https://cutt.ly/cips-pp51">https://cutt.ly/cips-pp51</a>.
</div>
<div id="ref-hasran" class="csl-entry" role="listitem">
Hasran, and Krisna Gupta. 2023. <span>“The Importance of Trade for MSEs in the Indonesian f&amp;b Sector.”</span> Journal Article. <em>CIPS Policy Paper</em> 55. <a href="https://cutt.ly/cips-pp55">https://cutt.ly/cips-pp55</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>